# 2017年5月iOS招人心得（附面试题）

> 就在上个月中旬，技术老大让我招两个1-2年的iOS开发，把简历的筛选和第一轮技术面试的任务交给了我。  

从筛选第一份简历，准备面试题，到成功招到两个人一共花了两个星期多一点，总体来说还是比较顺利的。两位通过者都比较稳重踏实，而且对技术也比较有追求。这也可能和我筛选简历比较谨慎有关系，这次筛选简历所花费的精力是不比面试花费的少的。

虽然时间跨度不是很长，但是毕竟是第一次，所以有些感触，想总结出来分享给大家。这篇总结分为两个部分：

* 第一部分是我当时准备的面试题
* 第二部分是我的心得

我重点在本文的第二部分说一下这次面试别人的心得体会。而关于第一部分的面试题，文中不提供答案（因为不是本文的重点），有想讨论的欢迎在评论区留言。

# 第一部分：面试题

- - - -

> 注意，下面这些题只是我准备的题库。在实际面试的时候我会根据面试者的水平抽出相应的题目来出的。  

## 技术

### 基础

0. 为什么说Objective-C是一门动态的语言？

<details>
<summary> 参考内容 </summary>

**1. 什么是动态语言？**
* 动态语言（Dynamic Programming Language -动态语言或动态编程语言），是指程序在运行时可以改变其结构。
* 动态类型语言（Dynamically Typed Language），所谓的动态类型语言，是指类型的检查是在运行时做的。

静态语言与静态类型语言与上述描述相反。

**2. OC是动态语言的原因**

`Objective-C` 是 `C`的超集，在`C`语言的基础上添加了面向对象特性，并且利用`Runtime`这个运行时机制，为`Objective-C`增添了动态的特性。

**3. Objective-C的动态运行性**

它的动态性主要体现在一下三个方面：

* 动态类型

即运行时再决定对象的类型。举个程序中的实例，即 id 类型，任何对象都可以被 id 指针所指，只有在运行时才能决定是什么类型。而静态类型在编译时就能确定是什么类型，如 int , NSString 等，若程序发生了类型不对应的问题，编译器就会发出警告。而动态类型在编译器编译的时候是不能被识别的，要等到运行时（run time）根据语境来识别确定。

总结：动态语言的类型确定在运行时，而静态语言在编译时确定。

* 动态绑定

在 Objective-C 中,一个对象能否调用指定的方法不是由编译器决定而是由运行时决定，这被称作是方法的动态绑定。基于动态类型，在某个实例对象被确定后，其类型便被确定了。该对象对应的属性和响应的消息也被完全确定，比如我们一般向一个 NSObject 对象发送 -respondsToSelector: 消息来确定对象是否可以对某个 SEL 作出响应，而在 OC 消息转发机制被触发之前，对应的类的 +resolveClassMethod: 将会被调用，在此时有机会动态地向类或实例中添加新的方法，也就是说，类的实现是可以动态绑定的。

总结：函数调用是由编译器决定，消息发送在运行时决定。

动态加载

让程序在运行时添加代码模块和资源，程序员可以根据需要执行一些可执行代码和资源，而不是在启动时就加载所有组件。举个非常通俗易懂的例子，开发的时候，需要为某种 icon 提供多个不同大小的图片，@2x，@3x，以保证设备更换的时候，图片也会自动地更换，这也体现了其动态加载的特性。也可以动态生成类比如kvo的实现原理。
</details>


1. 讲一下MVC和MVVM，MVP？

<details>
<summary> 参考内容 </summary>
需要考验以下问题：

* 标准MVC各层功能和关系
* iOS下MVC各层功能和关系
* 改进方式MVP,MVVM各层功能和关系以及他们的差别

</details>

2. 为什么代理要用weak？代理的delegate和dataSource有什么区别？block和代理的区别?

<details>
<summary> 参考内容 </summary>

使用weak是为了防止循环引用，无法释放造成内存泄漏。

没什么区别，只是将功能分离，DataSource负责展示相关，delegate负责处理事件。

block会导致对象延后释放。block写的逻辑比较集中，但是会导致调用block的方法职责划分不清，不如网络请求，既要发起请求，又要处理返回结果，违背了单一职责原则，而且如果回调分离过多，写起来也很难看。delegate必须设置代理对象，不像block那样能保存调用参数和环境。

</details>

3. 属性的实质是什么？包括哪几个部分？属性默认的关键字都有哪些？@dynamic关键字和@synthesize关键字是用来做什么的？

<details>
<summary> 参考内容 </summary>

属性是OC访问成员变量的一种方式，其实质是ivar + setter + getter。
基本数据类型默认的关键字是 automatic，readwrite，assign，对象类型的默认是automatic，readwirte，strong。
@synthesize是告诉编译器自动生成setter和getter方法。@dynamic是不让编译器生成setter和getter方法。


</details>

5. NSString为什么要用copy关键字，如果用strong会有什么问题？（注意：这里没有说用strong就一定不行。使用copy和strong是看情况而定的）

<details>
<summary> 参考内容 </summary>

NSString分为可变和不可变类型，如果是可变类型，在类外部修改了会导致类内值发生变化，影响运行结果。使用copy对于可变类型进行了深拷贝，相互独立。

</details>

6. 如何令自己所写的对象具有拷贝功能?

<details>
<summary> 参考内容 </summary>

遵循NSCopying协议，实现相应的方法。

</details>



1. 可变集合类 和 不可变集合类的 copy 和 mutablecopy有什么区别？如果是集合是内容复制的话，集合里面的元素也是内容复制么？
2.  为什么IBOutlet修饰的UIView也适用weak关键字？
3.  nonatomic和atomic的区别？atomic是绝对的线程安全么？为什么？如果不是，那应该如何实现？
4.  UICollectionView自定义layout如何实现？
5.  用StoryBoard开发界面有什么弊端？如何避免？
6.  进程和线程的区别？同步异步的区别？并行和并发的区别？
7.  线程间通信？
8.  GCD的一些常用的函数？（group，barrier，信号量，线程同步）
9.  如何使用队列来避免资源抢夺？
10. 数据持久化的几个方案（fmdb用没用过）
11. 说一下AppDelegate的几个方法？从后台到前台调用了哪些方法？第一次启动调用了哪些方法？从前台到后台调用了哪些方法？
12. NSCache优于NSDictionary的几点？
13. 知不知道Designated Initializer？使用它的时候有什么需要注意的问题？
14. 实现description方法能取到什么效果？
15. objc使用什么机制管理对象内存？

### 中级

#### Block

1. block的实质是什么？一共有几种block？都是什么情况下生成的？
2. 为什么在默认情况下无法修改被block捕获的变量？ __block都做了什么？
3. 模拟一下循环引用的一个情况？block实现界面反向传值如何实现？

#### Runtime

1. objc在向一个对象发送消息时，发生了什么？
2. 什么时候会报unrecognized selector错误？iOS有哪些机制来避免走到这一步？
3. 能否向编译后得到的类中增加实例变量？能否向运行时创建的类中添加实例变量？为什么？
4. runtime如何实现weak变量的自动置nil？
5. 给类添加一个属性后，在类结构体里哪些元素会发生变化？

#### RunLoop

1. runloop是来做什么的？runloop和线程有什么关系？主线程默认开启了runloop么？子线程呢？
2. runloop的mode是用来做什么的？有几种mode？
3. 为什么把NSTimer对象以NSDefaultRunLoopMode（kCFRunLoopDefaultMode）添加到主运行循环以后，滑动scrollview的时候NSTimer却不动了？
4. 苹果是如何实现Autorelease Pool的？

#### 类结构

1. isa指针？（对象的isa，类对象的isa，元类的isa都要说）
2. 类方法和实例方法有什么区别？
3. 介绍一下分类，能用分类做什么？内部是如何实现的？它为什么会覆盖掉原来的方法？
4. 运行时能增加成员变量么？能增加属性么？如果能，如何增加？如果不能，为什么？
5. objc中向一个nil对象发送消息将会发生什么？（返回值是对象，是标量，结构体）

### 高级

1. UITableview的优化方法（缓存高度，异步绘制，减少层级，hide，避免离屏渲染）
2. 有没有用过运行时，用它都能做什么？（交换方法，创建类，给新创建的类增加方法，改变isa指针）
3. 看过哪些第三方框架的源码？都是如何实现的？（如果没有，问一下多图下载的设计）
4. SDWebImage的缓存策略？
5. AFN为什么添加一条常驻线程？
6. KVO的使用？实现原理？（为什么要创建子类来实现）
7. KVC的使用？实现原理？（KVC拿到key以后，是如何赋值的？知不知道集合操作符，能不能访问私有属性，能不能直接访问_ivar）

## 项目

1. 有已经上线的项目么？
2. 项目里哪个部分是你完成的？（找一个亮点问一下如何实现的）
3. 开发过程中遇到过什么困难，是如何解决的？

## 学习

1. 遇到一个问题完全不能理解的时候，是如何帮助自己理解的？举个例子？
2. 有看书的习惯么？最近看的一本是什么书？有什么心得？
3. 有没有使用一些笔记软件？会在多平台同步以及多渠道采集么？（如果没有，问一下是如何复习知识的）
4. 有没有使用清单类，日历类的软件？（如果没有，问一下是如何安排，计划任务的）
5. 平常看博客么？有没有自己写过？（如果写，有哪些收获？如果没有写，问一下不写的原因）

有关技术类的问题可以在评论区留言，我重点说一下这轮面试的心得和体会。

# 第二部分：心得

- - - -

### 面试者千万不要答非所问

如果让我选一个让面试官觉得印象减分的点，答非所问应该是首当其冲的。

> 面试者一定要知道面试官问的点是什么。  

* 如果在知道面试官问的点，但是自己却不知道答案的时候，可以提出思路，思考过程。其实有几次面试者在我的引导下很容易就把答案说出来了，认清问题的点是解决问题的一半。
* 如果没有理解好面试官问的问题，一定要事先和面试官确认好。

其实这也属于沟通能力的一点：如果不能保证和对方沟通内容的一致性，自己弄个filter把对方的话都曲解了，以后合作的时候又怎能保证沟通好呢？

### 面试者一定不要来得太早

> 这里说的来得太早，是来得太早并告知面试官自己已经来了。  

因为在约定好的面试时间之前，往往面试官还有别的事情在做，如果他知道你来的很早，就可能会扰乱他的计划。有一位面试者早来了1个小时，结果把我们的面试计划打乱了，而且正好是我的第一次面试，所以真的是有点措手不及。

求职者和公司定下来的时间属于一个约定，约定是要遵守的。而且遵守约定同样也是对对方的尊重。如果入职之前都没能把握好，入职之后又如何能保证把握好呢？

### 实践与理论的脱节，让人很不安

> 能做出来项目，但是基础知识很薄弱  

几乎每位面试者都能给我展示他做的一些app，虽然没有很难的功能，但也都算是有板有眼。可让我比较意外的是，虽然能做出有模有样的app，但当我问到很多基础的问题的时候却答不上来，比如属性和成员变量的区别，属性的默认关键字，Designated Initializer的概念等等。。

这不禁让我怀疑他们的代码的稳定性，更怀疑他们治学，做技术的态度。

虽说技术活需要实践的磨练，但和理论脱节的技术是钻不深的。可能有人会说我的面试题过于理论，实际中用不到。但有些时候，在实际开发中遇到的一些问题往往就是因为一些很基本的东西没有弄清导致的，相信你我都深有体会。

而且，我们都知道技术的提升是阶梯式的。什么是阶梯式的呢？就是可能我们会有比较长的时间才会有一个突破。但这个突破来的有多快，提升的有多高，是跟平时每个细小知识点的掌握程度是分不开的。

因为知识也是有复利效应的，准确地掌握越多的知识点，在以后的学习过程中，这些知识点相互之间想成的积极作用会越来越大：对新知识的理解更快，对问题的定位会更准，解决问题的方法也会越多。相反，如果你每个问题都得过且过，这些结果的复合作用就会导致你今后很难会有所突破了。

### 真的可能被简历骗到

> 上家的薪资很高，但是实际能力很不符  

有一位面试者在简历里号称上一个工作拿了15k，但当我问到NSString属性使用strong还是copy作为关键字的时候他却说是strong，甚至连delegate都拿不准使用strong还是weak，我就有些奇怪了。

### 看技术博客和技术书籍的人还是很少的

> 只依赖于公司里的项目应该是不够的，毕竟不是每个公司里都有上乘的代码和技术  

面试了大概20个人，但是真正有看过技术博客和技术书籍的真的不多，更别提Github了。不过其中一位面试通过者是有github账号的，并且有几个小项目，印象非常好，加了不少分。

我相信在这一行的未来，简历里面github账号和博客绝对会越来越受重视：

* 一方面简历真的是应接不暇，而且同时千篇一律，很难找出亮点。
* 另一方面，如果可以把自己的代码和成长展示给招聘公司，就会使得自己的能力在公司面前变得更加纯粹和透明，更有助于找到适合你自己的公司。

以上就是我上个月的面试心得，希望大家多交流，有说的不对的地方还请多指正。

[2017年5月iOS招人心得（附面试题）](https://juejin.im/post/6844903480805556238)